create database category_header;
use category_header;
CREATE TABLE cat(cat_code INT,cat_desc VARCHAR(20));
insert into cat values(01, "Super deluxe"),(02 ,"Deluxe"),(03, "Super fast"),(04, "normal");
SELECT*FROM cat;
create table route_header(Route_id Int,Route_no Int,Cat_code Int,Origin char(30),Destination char(30),Fare Int,Distance Int,Capacity Int);
select*from route_header;
insert into route_header values(101 ,33, 01,"Madurai", "Madras",65,250,50),(102,25,02,"Trichy", "Madurai",69,159,50),(103,15,03,"Cochin", "Bangalore",75,140,50)(104,36,04,"Madras", "Andra Pradesh",45,375,50),(105, 40, 01, "Bangalore", "Madurai", 65, 375, 50),(106, 38, 02, "Madras","Andra Pradesh", 80, 250, 50),(107, 39, 03, "Hyderabad", "Madurai", 78, 430, 50),(108, 41, 04, "Madras", "Cochin", 35, 576, 50);
alter table route_header add column comments long;
describe route_header;
select distinct cat_code from route_header order by cat_code desc;
alter table route_header modify column distance int4;
select*from route_header where origin="madras" and destination="cochin";
update route_header set  distance=300 where origin="madurai" and destination="madras";
select*from route_header;
delete from route_header where destination="banglore" and origin="madras";
select*from route_header where origin="madras";
select*from route_header where fare between 30 and 50;
select fare,origin from route_header where Route_no >15;
select*from route_header where origin  like'a%'or destination like'a%';
create table route_detail(Route_id int,Place_id int,Non_stop char(30));
insert route_detail values(105,01,'N'),(102,02,'S'),(106,01,'S');
select*from route_detail;
insert route_detail values(106,02,'n');
update route_detail set non_stop ='n' where route_id=102;
create table place_header(Place_id Integer,Place_name Varchar(20),Place_address Varchar(20),Bus_station Varchar(20));
insert into place_header  values(01, 'Madras', '10, ptc road','Parrys'),(02,'Madurai',' 21,canalbank road','Kknagar'),(03,'Trichy', '11, first cross road','Bheltown'),(04, 'Bangalore', '15, first main road','Cubbon park'),(05, 'Hyderabad' ,'115, lake view,road','Charminar'),(06,'Cochin', '12, temple road', 'Railway jn');
select*from place_header;
create table fleet_header(fleet_id Integer,day date,Route_id Integer,Cat_code Integer);
insert into fleet_header values (01,'1996-04-10',101,01),(02,'1996-04-10',101,01),(03,'1996-04-10',101,01),(04,'1996-04-10',102,02),(05,'1996-04-10',102,03),(06,'1996-04-10',103,04);
select*from fleet_header;
create table ticket_header (fleet_id Int,Ticket_no Int,Doi Date,Dot Date,Time_travel varchar(20),Board_place Varchar(20),Origin Varchar(20),Destination Varchar(20),Adults Integer,Children Integer,Total_fare Integer,Route_id Integer);
insert into ticket_header values(01,01,'1996-04-10','1996-05-10','15:00:00','Parrys','Madras','Madurai',1,1,60,101),(02,02,'1996-04-12','1996-05-5','09:00:00','Kknagar','Madurai','Madras',2,1,60,102),(03,03,'1996-04-21','1996-05-15','21:00:00','Cubbonpark','Bangalore','Madras',4,2,400,101)(04,04,'1996-04-25','1996-05-25','10:00:00','Charminar','Hyderabad','Madras',10,0,500,103),(05,250,'1996-04-30','1996-05-22','15:00:00','Parrys', 'Madras','Cochin',2,2,141,103);
select*from ticket_header;
create table ticket_detail( Ticket_no Int,name Varchar(20),Sex Char(1),Age Int3,Fare Varchar(20),DateTime  DateTime);
insert into ticket_detail values(01,'Charu', 'F',24,'14:00','1996-04-10 10:20:12'),(01,'Lata', 'F',10,'15:55','1996-04-12 10:23:54'), (02,'Anand','M',28,'17:80','1996-04-21 07:14:37'), (02,'Gautam','M',9,'17:65','1996-04-21 07:14:37'),(05,'Sandeep','M',30,'18:00','1996-04-21 07:14:37');
select*from ticket_detail;
create table account(Acc_no Int3 comment 'Account Int',Acc_name Char(30) comment 'Account_Holder Name',Acc_dob Date comment 'Account Holder Birth Date',Acc_op_date Date comment 'Account Opening Date',Acc_balance decimal(11,2) comment 'Account Current Balance',Acc_type Char(1) comment 'Account Type',Acc_status Char(1) comment 'Account Status', Acc_chkstatus int comment 'account chkstatus',Acc_gender Char(30) comment 'Account holder gender [ F- Female , M-Male]');
desc account;
drop table account;
insert into account values(1,' Sachin', '1975-05-10 ', '1996-05-10' ,530000, 'S', 'O', 1,' M'),(2,'Dravid', '1970-01-15 ' ,' 1999-01-25',149333 ,'S','O' ,1,' M '),(3 ,'Sonali','1969-12-12 ','1995-12-20',13030333, 'C','O',1,'F'),( 4, 'Rani', '1969-02-18','1999-01-23',4000 ,'C', 'O', 1, 'F' ),(5 ,'Ashwariya','1975-01-15', '2000-12-30' ,3000 ,'S','C', 1 ,'F'),(6,'Kajol','1979-12-12','2001-01-28',200000,'C','C', 0, 'F'),(7,'Kapil', '1950-12-12', '2003-01-19', 8000000, 'S', 'O', 1, 'M'),(8, 'Dhoni', '1985-01-28', '2005-12-20', 80000, 'S', 'O', 1, 'M'),(9, 'Pathan', '1975-10-23', '2004-12-21', 45000, 'C', 'C', 0, 'M'),(10, 'Stafi' ,'1974-03-28', '2003-01-21', 30000000, 'S', 'O', 1, 'F');
select*from account;
select acc_name,acc_dob from account;
select acc_name,acc_balance from account;
select acc_name,acc_balance  from account where acc_type='C';
select acc_name from account where acc_status='c' order by acc_name asc;
select acc_name from account where acc_chkstatus=1;
select*from account where acc_gender='f';
select*from account where acc_type='c' order by acc_balance asc;
select acc_name,acc_dob from account where acc_chkstatus=1;
select acc_name from account where acc_balance<50000;
select*from account where  acc_gender='m' and acc_dob>25;
select count(*) from account;
select acc_name from account where acc_balance =(select max(acc_balance) from account);
select acc_name from account;
select acc_name from account where acc_balance>50000 and acc_balance<100000;
select*from account where acc_status='o';
alter table account rename to acc_master;
alter  table acc_master add (address char(30) ,city char(30));
update acc_master set city='bhavnagar';
select*from acc_master;
delete from acc_master where acc_no=8;
delete from acc_master where acc_status='c';
insert into acc_master values(11, 'John', '1975-10-23', '2004-12-21', 45000, 'C', 'C', 0, 'M','ab','bhavnagar'),(12, 'Ronaldo' ,'1974-03-28', '2003-01-21', 300000, 'S', 'O', 1, 'F','ab','bhavnagar');
select acc_balance from acc_master ;
update acc_master set acc_balance=acc_balance-100 where acc_balance>50000;
update acc_master set  acc_chkstatus=acc_chkstatus-200 where acc_chkstatus=1;
select*from acc_master  limit 5;
